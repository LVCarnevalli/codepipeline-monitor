{"version":3,"sources":["scripts/contentscript.js"],"names":["format","value","replace","chrome","runtime","onMessage","addListener","msg","sender","sendResponse","pipeline","name","stages","document","querySelectorAll","outerText","pipelineStages","forEach","stage","pipelineActions","buildType","action","buildName","buildStatus","buildLastExecution","push","type","status","lastExecution"],"mappings":"AAAA,YAEA,SAASA,QAAOC,GACd,MAAOA,GAAMC,QAAQ,UAAW,IAGlCC,OAAOC,QAAQC,UAAUC,YAAY,SAAUC,EAAKC,EAAQC,GAC1D,GAAIC,IACFC,KAAM,KACNC,UAGFF,GAASC,KAAOE,SAASC,iBAAiB,qBAAqB,GAAGC,UAAUb,QAAQ,yBAA0B,GAE9G,IAAIc,GAAiBH,SAASC,iBAAiB,kCAC3CE,KACFA,EAAeC,QAAQ,SAAUC,GAC/B,GAAIC,GAAkBD,EAAMJ,iBAAiB,0BACzCM,EAAYF,EAAMJ,iBAAiB,8BAA8B,GAAGC,SAExEI,GAAgBF,QAAQ,SAAUI,GAChC,GAAIC,GAAYD,EAAOP,iBAAiB,+BAA+B,GAAGC,UACtEQ,EAAcF,EAAOP,iBAAiB,uCAAuC,GAAGC,UAChFS,EAAqBH,EAAOP,iBAAiB,0CAA0C,GAAGC,SAE9FL,GAASE,OAAOa,MACdC,KAAM1B,OAAOoB,GACbT,KAAMX,OAAOsB,GACbK,OAAQ3B,OAAOuB,GACfK,cAAe5B,OAAOwB,SAI5Bf,EAAaC","file":"scripts/contentscript.js","sourcesContent":["'use strict';\n\nfunction format(value) {\n  return value.replace(/[\\n\\r]/g, '');\n}\n\nchrome.runtime.onMessage.addListener(function (msg, sender, sendResponse) {\n  var pipeline = {\n    name: null,\n    stages: []\n  };\n\n  pipeline.name = document.querySelectorAll('.pipelines-header')[0].outerText.replace(' View pipeline history', '');\n\n  var pipelineStages = document.querySelectorAll('.pipelines-view-stages-list>div');\n  if (pipelineStages) {\n    pipelineStages.forEach(function (stage) {\n      var pipelineActions = stage.querySelectorAll('.pipelines-view-action');\n      var buildType = stage.querySelectorAll('.pipelines-view-stage-name')[0].outerText;\n\n      pipelineActions.forEach(function (action) {\n        var buildName = action.querySelectorAll('.pipelines-view-action-name')[0].outerText;\n        var buildStatus = action.querySelectorAll('.pipelines-view-action-state-status')[0].outerText;\n        var buildLastExecution = action.querySelectorAll('.pipelines-view-action-state-timestamp')[0].outerText;\n\n        pipeline.stages.push({\n          type: format(buildType),\n          name: format(buildName),\n          status: format(buildStatus),\n          lastExecution: format(buildLastExecution)\n        });\n      });\n    });\n    sendResponse(pipeline);\n  }\n});"],"sourceRoot":"/source/"}